{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\WhiteBoard\\\\client\\\\src\\\\components\\\\DrawingCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport UserCursors from './UserCursors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nfunction DrawingCanvas({\n  roomId,\n  color,\n  width,\n  onClear,\n  onUserCount\n}) {\n  _s();\n  const canvasRef = useRef(null);\n  const [socket, setSocket] = useState(null);\n  const [drawing, setDrawing] = useState(false);\n  const [lastPoint, setLastPoint] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [cursors, setCursors] = useState({});\n  // Track lastPoint for each remote user\n  const remoteLastPoints = useRef({});\n  const cursorTimeouts = useRef({});\n\n  // Setup socket\n  useEffect(() => {\n    const s = io(SOCKET_URL);\n    setSocket(s);\n    setUserId(s.id);\n    s.emit('join-room', {\n      roomId\n    });\n    s.on('init-drawing', drawingData => {\n      redrawFromData(drawingData);\n    });\n    s.on('draw-start', handleRemoteDrawStart);\n    s.on('draw-move', handleRemoteDrawMove);\n    s.on('draw-end', handleRemoteDrawEnd);\n    s.on('clear-canvas', clearCanvas);\n    s.on('cursor-move', handleRemoteCursorMove);\n    s.on('cursor-leave', handleRemoteCursorLeave);\n    s.on('user-count', count => {\n      if (onUserCount) onUserCount(count);\n    });\n    return () => {\n      s.emit('leave-room');\n      s.disconnect();\n    };\n    // eslint-disable-next-line\n  }, [roomId]);\n\n  // Drawing handlers\n  const startDraw = (x, y) => {\n    setDrawing(true);\n    setLastPoint({\n      x,\n      y\n    });\n    if (socket) socket.emit('draw-start', {\n      x,\n      y,\n      color,\n      width\n    });\n  };\n  const draw = (x, y) => {\n    if (!drawing) return;\n    drawLine(lastPoint.x, lastPoint.y, x, y, color, width);\n    setLastPoint({\n      x,\n      y\n    });\n    if (socket) socket.emit('draw-move', {\n      x,\n      y,\n      color,\n      width\n    });\n  };\n  const endDraw = () => {\n    setDrawing(false);\n    setLastPoint(null);\n    if (socket) socket.emit('draw-end', {});\n  };\n\n  // Mouse/touch events\n  const handlePointerDown = e => {\n    const {\n      x,\n      y\n    } = getCanvasCoords(e);\n    startDraw(x, y);\n    emitCursor(x, y);\n  };\n  const handlePointerMove = e => {\n    const {\n      x,\n      y\n    } = getCanvasCoords(e);\n    if (drawing) draw(x, y);\n    emitCursor(x, y);\n  };\n  const handlePointerUp = () => endDraw();\n\n  // Cursor emit\n  const emitCursor = (x, y) => {\n    if (socket) socket.emit('cursor-move', {\n      x,\n      y,\n      color\n    });\n  };\n\n  // Helpers\n  function getCanvasCoords(e) {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n    const clientY = e.touches ? e.touches[0].clientY : e.clientY;\n    return {\n      x: clientX - rect.left,\n      y: clientY - rect.top\n    };\n  }\n  function drawLine(x1, y1, x2, y2, color, width) {\n    const ctx = canvasRef.current.getContext('2d');\n    ctx.strokeStyle = color;\n    ctx.lineWidth = width;\n    ctx.lineCap = 'round';\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n  }\n  function clearCanvas() {\n    const ctx = canvasRef.current.getContext('2d');\n    ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n    remoteLastPoints.current = {};\n    setCursors({});\n    if (onClear) onClear();\n  }\n  function redrawFromData(drawingData) {\n    clearCanvas();\n    let last = null;\n    drawingData.forEach(cmd => {\n      if (cmd.type === 'clear') {\n        clearCanvas();\n        last = null;\n      } else if (cmd.type === 'stroke') {\n        const {\n          x,\n          y,\n          color,\n          width\n        } = cmd.data;\n        if (last) drawLine(last.x, last.y, x, y, color, width);\n        last = {\n          x,\n          y\n        };\n      }\n    });\n  }\n\n  // Remote events (track per user)\n  function handleRemoteDrawStart({\n    userId,\n    x,\n    y,\n    color,\n    width\n  }) {\n    if (!userId) return;\n    remoteLastPoints.current[userId] = {\n      x,\n      y,\n      color,\n      width\n    };\n  }\n  function handleRemoteDrawMove({\n    userId,\n    x,\n    y,\n    color,\n    width\n  }) {\n    if (!userId) return;\n    const last = remoteLastPoints.current[userId];\n    if (last) {\n      drawLine(last.x, last.y, x, y, color, width);\n    }\n    remoteLastPoints.current[userId] = {\n      x,\n      y,\n      color,\n      width\n    };\n  }\n  function handleRemoteDrawEnd({\n    userId\n  }) {\n    if (!userId) return;\n    delete remoteLastPoints.current[userId];\n  }\n\n  // Remote cursor events\n  function handleRemoteCursorMove({\n    userId,\n    x,\n    y,\n    color\n  }) {\n    setCursors(prev => ({\n      ...prev,\n      [userId]: {\n        x,\n        y,\n        color\n      }\n    }));\n    // Hide cursor after 3s inactivity\n    if (cursorTimeouts.current[userId]) clearTimeout(cursorTimeouts.current[userId]);\n    cursorTimeouts.current[userId] = setTimeout(() => {\n      setCursors(prev => {\n        const copy = {\n          ...prev\n        };\n        delete copy[userId];\n        return copy;\n      });\n    }, 3000);\n  }\n  function handleRemoteCursorLeave({\n    userId\n  }) {\n    setCursors(prev => {\n      const copy = {\n        ...prev\n      };\n      delete copy[userId];\n      return copy;\n    });\n  }\n\n  // Clear button\n  const handleClear = () => {\n    if (socket) socket.emit('clear-canvas');\n    clearCanvas();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 600,\n      style: {\n        border: '1px solid #ccc',\n        background: '#fff',\n        touchAction: 'none'\n      },\n      onMouseDown: handlePointerDown,\n      onMouseMove: handlePointerMove,\n      onMouseUp: handlePointerUp,\n      onMouseLeave: handlePointerUp,\n      onTouchStart: handlePointerDown,\n      onTouchMove: handlePointerMove,\n      onTouchEnd: handlePointerUp\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UserCursors, {\n      cursors: cursors,\n      ownUserId: userId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClear,\n      style: {\n        position: 'absolute',\n        top: 10,\n        right: 10\n      },\n      children: \"Clear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n}\n_s(DrawingCanvas, \"GIss5prMCvgOrEeShOJt6CUjVL4=\");\n_c = DrawingCanvas;\nexport default DrawingCanvas;\nvar _c;\n$RefreshReg$(_c, \"DrawingCanvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","io","UserCursors","jsxDEV","_jsxDEV","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","DrawingCanvas","roomId","color","width","onClear","onUserCount","_s","canvasRef","socket","setSocket","drawing","setDrawing","lastPoint","setLastPoint","userId","setUserId","cursors","setCursors","remoteLastPoints","cursorTimeouts","s","id","emit","on","drawingData","redrawFromData","handleRemoteDrawStart","handleRemoteDrawMove","handleRemoteDrawEnd","clearCanvas","handleRemoteCursorMove","handleRemoteCursorLeave","count","disconnect","startDraw","x","y","draw","drawLine","endDraw","handlePointerDown","e","getCanvasCoords","emitCursor","handlePointerMove","handlePointerUp","rect","current","getBoundingClientRect","clientX","touches","clientY","left","top","x1","y1","x2","y2","ctx","getContext","strokeStyle","lineWidth","lineCap","beginPath","moveTo","lineTo","stroke","clearRect","height","last","forEach","cmd","type","data","prev","clearTimeout","setTimeout","copy","handleClear","style","position","children","ref","border","background","touchAction","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","fileName","_jsxFileName","lineNumber","columnNumber","ownUserId","onClick","right","_c","$RefreshReg$"],"sources":["D:/Coding/WhiteBoard/client/src/components/DrawingCanvas.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport UserCursors from './UserCursors';\r\n\r\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\r\n\r\nfunction DrawingCanvas({ roomId, color, width, onClear, onUserCount }) {\r\n  const canvasRef = useRef(null);\r\n  const [socket, setSocket] = useState(null);\r\n  const [drawing, setDrawing] = useState(false);\r\n  const [lastPoint, setLastPoint] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [cursors, setCursors] = useState({});\r\n  // Track lastPoint for each remote user\r\n  const remoteLastPoints = useRef({});\r\n  const cursorTimeouts = useRef({});\r\n\r\n  // Setup socket\r\n  useEffect(() => {\r\n    const s = io(SOCKET_URL);\r\n    setSocket(s);\r\n    setUserId(s.id);\r\n    s.emit('join-room', { roomId });\r\n    s.on('init-drawing', (drawingData) => {\r\n      redrawFromData(drawingData);\r\n    });\r\n    s.on('draw-start', handleRemoteDrawStart);\r\n    s.on('draw-move', handleRemoteDrawMove);\r\n    s.on('draw-end', handleRemoteDrawEnd);\r\n    s.on('clear-canvas', clearCanvas);\r\n    s.on('cursor-move', handleRemoteCursorMove);\r\n    s.on('cursor-leave', handleRemoteCursorLeave);\r\n    s.on('user-count', (count) => {\r\n      if (onUserCount) onUserCount(count);\r\n    });\r\n    return () => {\r\n      s.emit('leave-room');\r\n      s.disconnect();\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [roomId]);\r\n\r\n  // Drawing handlers\r\n  const startDraw = (x, y) => {\r\n    setDrawing(true);\r\n    setLastPoint({ x, y });\r\n    if (socket) socket.emit('draw-start', { x, y, color, width });\r\n  };\r\n  const draw = (x, y) => {\r\n    if (!drawing) return;\r\n    drawLine(lastPoint.x, lastPoint.y, x, y, color, width);\r\n    setLastPoint({ x, y });\r\n    if (socket) socket.emit('draw-move', { x, y, color, width });\r\n  };\r\n  const endDraw = () => {\r\n    setDrawing(false);\r\n    setLastPoint(null);\r\n    if (socket) socket.emit('draw-end', {});\r\n  };\r\n\r\n  // Mouse/touch events\r\n  const handlePointerDown = (e) => {\r\n    const { x, y } = getCanvasCoords(e);\r\n    startDraw(x, y);\r\n    emitCursor(x, y);\r\n  };\r\n  const handlePointerMove = (e) => {\r\n    const { x, y } = getCanvasCoords(e);\r\n    if (drawing) draw(x, y);\r\n    emitCursor(x, y);\r\n  };\r\n  const handlePointerUp = () => endDraw();\r\n\r\n  // Cursor emit\r\n  const emitCursor = (x, y) => {\r\n    if (socket) socket.emit('cursor-move', { x, y, color });\r\n  };\r\n\r\n  // Helpers\r\n  function getCanvasCoords(e) {\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const clientX = e.touches ? e.touches[0].clientX : e.clientX;\r\n    const clientY = e.touches ? e.touches[0].clientY : e.clientY;\r\n    return {\r\n      x: clientX - rect.left,\r\n      y: clientY - rect.top\r\n    };\r\n  }\r\n  function drawLine(x1, y1, x2, y2, color, width) {\r\n    const ctx = canvasRef.current.getContext('2d');\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = width;\r\n    ctx.lineCap = 'round';\r\n    ctx.beginPath();\r\n    ctx.moveTo(x1, y1);\r\n    ctx.lineTo(x2, y2);\r\n    ctx.stroke();\r\n  }\r\n  function clearCanvas() {\r\n    const ctx = canvasRef.current.getContext('2d');\r\n    ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    remoteLastPoints.current = {};\r\n    setCursors({});\r\n    if (onClear) onClear();\r\n  }\r\n  function redrawFromData(drawingData) {\r\n    clearCanvas();\r\n    let last = null;\r\n    drawingData.forEach(cmd => {\r\n      if (cmd.type === 'clear') {\r\n        clearCanvas();\r\n        last = null;\r\n      } else if (cmd.type === 'stroke') {\r\n        const { x, y, color, width } = cmd.data;\r\n        if (last) drawLine(last.x, last.y, x, y, color, width);\r\n        last = { x, y };\r\n      }\r\n    });\r\n  }\r\n\r\n  // Remote events (track per user)\r\n  function handleRemoteDrawStart({ userId, x, y, color, width }) {\r\n    if (!userId) return;\r\n    remoteLastPoints.current[userId] = { x, y, color, width };\r\n  }\r\n  function handleRemoteDrawMove({ userId, x, y, color, width }) {\r\n    if (!userId) return;\r\n    const last = remoteLastPoints.current[userId];\r\n    if (last) {\r\n      drawLine(last.x, last.y, x, y, color, width);\r\n    }\r\n    remoteLastPoints.current[userId] = { x, y, color, width };\r\n  }\r\n  function handleRemoteDrawEnd({ userId }) {\r\n    if (!userId) return;\r\n    delete remoteLastPoints.current[userId];\r\n  }\r\n\r\n  // Remote cursor events\r\n  function handleRemoteCursorMove({ userId, x, y, color }) {\r\n    setCursors(prev => ({ ...prev, [userId]: { x, y, color } }));\r\n    // Hide cursor after 3s inactivity\r\n    if (cursorTimeouts.current[userId]) clearTimeout(cursorTimeouts.current[userId]);\r\n    cursorTimeouts.current[userId] = setTimeout(() => {\r\n      setCursors(prev => {\r\n        const copy = { ...prev };\r\n        delete copy[userId];\r\n        return copy;\r\n      });\r\n    }, 3000);\r\n  }\r\n  function handleRemoteCursorLeave({ userId }) {\r\n    setCursors(prev => {\r\n      const copy = { ...prev };\r\n      delete copy[userId];\r\n      return copy;\r\n    });\r\n  }\r\n\r\n  // Clear button\r\n  const handleClear = () => {\r\n    if (socket) socket.emit('clear-canvas');\r\n    clearCanvas();\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <canvas\r\n        ref={canvasRef}\r\n        width={800}\r\n        height={600}\r\n        style={{ border: '1px solid #ccc', background: '#fff', touchAction: 'none' }}\r\n        onMouseDown={handlePointerDown}\r\n        onMouseMove={handlePointerMove}\r\n        onMouseUp={handlePointerUp}\r\n        onMouseLeave={handlePointerUp}\r\n        onTouchStart={handlePointerDown}\r\n        onTouchMove={handlePointerMove}\r\n        onTouchEnd={handlePointerUp}\r\n      />\r\n      <UserCursors cursors={cursors} ownUserId={userId} />\r\n      <button onClick={handleClear} style={{ position: 'absolute', top: 10, right: 10 }}>Clear</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DrawingCanvas; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}